<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title></title>
  <style>
    li {
      background-color: green;
      margin-top:10px;
      color:#fff;
    }
  </style>
</head>
<body>
  <button id="btn">添加</button>
  <ul id="ul">
    <li>我是ul的儿子li1</li>
    <li>我是ul的儿子li2</li>
    <li>我是ul的儿子li3</li>
    <li>我是ul的儿子li4</li>
    <li>我是ul的儿子li5</li>
    <li>我是ul的儿子li6</li>
    <li>我是ul的儿子li7</li>
    <li>我是ul的儿子li8</li>
    <li>我是ul的儿子li9</li>
    <li>我是ul的儿子li10</li>

  </ul>
  <script>
    var lis = document.getElementsByTagName('li');
    for(var i = 0;i<lis.length;i++){
      lis[i].onclick = function(){
        alert(this.innerHTML);

      }
    }
    //功能没有问题
    //性能上有问题：每绑定一次事件，js就会和浏览器的引擎产生一次关联。每次关联都需要时间。消耗内存和性能（慢）
    //优化：减少事件绑定的次数


    //未来新添加元素事件绑定问题：无法给新来的元素绑定事件。
    //优化：事件委托。
    var btn = document.getElementById('btn');
    var ul =  document.getElementById('ul');
    btn.onclick = function(){
      var newLi = document.createElement('li');
      newLi.innerHTML = '我是新来的' + Math.random();
      ul.appendChild(newLi);
    };

    //原理：事件冒泡传输过程
  </script>
</body>
</html>