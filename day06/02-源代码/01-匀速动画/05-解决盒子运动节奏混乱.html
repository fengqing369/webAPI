<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title></title>
  <style>
    * {
      margin: 0;
      padding:0;
    }
    div {
      width: 100px;
      height: 100px;
      background-color: gold;
      position: absolute;
    }
  </style>
</head>
<body>
  <button id="btn">按钮</button>
  <div id="box"></div>
  <script>
    //得到操作的元素
    var btn = document.getElementById('btn');
    var box = document.getElementById('box');
    //给按钮绑定事件
    var num;//定时器的标识
    btn.onclick = function(){
      //时间：定时器
      //状态：更改div的状态（更改left值）
      //点击按钮会产生一个新的定时器，新的定时器产生之前，把之前的定时器停止了。
      if(num!=undefined){
        clearInterval(num); //把之前的定时器停止了。
      }

        num = setInterval(function(){
        console.log('执行中...');
        //步长
        var step = 5;
        //设定一个目标值
        var targetValue = 800;
        //原有的left值
        var currentValue = box.offsetLeft;
        //判断是否到达目标
        if(currentValue==targetValue){ //到达目标
          clearInterval(num);//结束定时器,下一时间后定时器不在执行
          return;//结束函数的执行
        }
        box.style.left = currentValue + step + 'px';
      },30);
    };
    //缺点：多次点击按钮，会造成盒子运动节奏混乱
    //原因：每次点击按钮时，都会产生一个定时器，多个定时器操作一个元素。
    //解决方案：不论点击多少次，保证始终都是一个定时器在操作元素
  </script>
</body>
</html>